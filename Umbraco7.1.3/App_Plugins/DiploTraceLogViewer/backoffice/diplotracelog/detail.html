<script>
    function TraceLogDetailController($scope, $routeParams) {
        console.log($scope.dialogData);
    }
</script>

<style type="text/css">
    #logdetail .tlError
    {
        color: #c00;
    }

    #logdetail .tlWarn
    {
        color: #cc8c00;
    }

    #logdetail .logger
    {

    }

    #logdetail .message
    {
        font-family: 'Courier New', serif;
        white-space:pre-wrap;
        background-color: #f8f8f8;
        border: 1px solid #dbdbdb;
        padding: 8px;
        margin:8px;
    }

    #logdetail .umb-scrollable
    {
        z-index: 9999;
    }

    #logdetail .umb-panel-footer .btn
    {
        z-index: 99999;
    }

    #logdetail .btn-default 
    {
        margin-top:9px;
    }


</style>

<div class="umb-panel" ng-controller="TraceLogDetailController" id="logdetail">

    <div class="umb-panel-header">
        <h3 class="headline">Log Data Detail          <small class="umb-version">{{dialogData.Date}}</small></h3>

    </div>

    <div class="umb-panel-body umb-scrollable">

        <table class="table">

            <tr>
                <th>Date</th>
                <td>{{ dialogData.Date | date:'EEE, dd MMM yyyy, HH:mm:ss' }}</td>
            </tr>
            <tr>
                <th>Level</th>
                <td ng-class="{tlError: dialogData.Level == 'ERROR', tlWarn: dialogData.Level == 'WARN'}">{{ dialogData.Level }}</td>
            </tr>
            <tr>
                <th>Logger</th>
                <td class="logger">{{ dialogData.Logger }}</td>
            </tr>
            <tr ng-show="dialogData.ProcessId.length">
                <th>Process</th>
                <td>{{ dialogData.ProcessId }}</td>
            </tr>
            <tr ng-show="dialogData.ThreadId.length">
                <th>Thread</th>
                <td>{{ dialogData.ThreadId }}</td>
            </tr>
            <tr ng-show="dialogData.DomainId.length">
                <th>App Domain</th>
                <td>{{ dialogData.DomainId }}</td>
            </tr>
            <tr>
                <th colspan="2">Message</th>
            </tr>
            <tr>
                <td colspan="2" class="message">{{ dialogData.Message }}</td>
            </tr>
            <tr>
                <td>
                    <div class="btn-group">
                        <a class="btn btn-default dropdown-toggle" data-toggle="dropdown" href="#">
                            <i class="icon-search"></i> Search
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a ng-href="https://www.google.com/search?q={{ dialogData.Logger}} {{ dialogData.Message | limitTo:80 }}" target="_blank" title="Search this message with Google">Search With Google</a></li>
                            <li><a ng-href="http://our.umbraco.org/search?q={{ dialogData.Logger}} {{ dialogData.Message | limitTo:60 }}&content=wiki,forum,documentation" target="_blank" title="Search this message on Our Umbraco forums and docs">Search Our Umbraco</a></li>
                            <li><a ng-href="https://www.google.co.uk/?q=site:our.umbraco.org {{ dialogData.Logger}} {{ dialogData.Message | limitTo:80 }}&safe=off#q=site:our.umbraco.org {{ dialogData.Logger}} {{ dialogData.Message | limitTo:80 }}&safe=off" target="_blank" title="Search Our Umbraco forums using Google">Search Our with Google</a></li>
                            <li><a ng-href="https://github.com/umbraco/Umbraco-CMS/search?q={{ dialogData.Logger}}" target="_blank" title="Search within Umbraco source code on Github">Search Umbraco Source</a></li>
                            <li><a ng-href="http://issues.umbraco.org/issues?q={{ dialogData.Logger}}" target="_blank" title="Search Umbraco Issues board">Search Umbraco Issues</a></li>
                        </ul>
                    </div>
                </td>
                <td>
                    <div class="btn-toolbar pull-right">
                        <a ng-click="close()" class="btn">
                            <localize key="general_cancel">Cancel</localize>
                        </a>
                    </div>
                </td>
            </tr>
        </table>



    </div>

</div>
